{"ast":null,"code":"import _defineProperty from\"/home/shera/Desktop/React/job-portal-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/shera/Desktop/React/job-portal-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/shera/Desktop/React/job-portal-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"/home/shera/Desktop/React/job-portal-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{useState,useContext}from\"react\";import{Grid,TextField,Button,Typography,makeStyles,Paper,MenuItem,Input}from\"@material-ui/core\";import axios from\"axios\";import{Redirect}from\"react-router-dom\";import ChipInput from\"material-ui-chip-input\";import DescriptionIcon from\"@material-ui/icons/Description\";import FaceIcon from\"@material-ui/icons/Face\";import PhoneInput from\"react-phone-input-2\";import\"react-phone-input-2/lib/material.css\";import PasswordInput from\"../lib/PasswordInput\";import EmailInput from\"../lib/EmailInput\";import FileUploadInput from\"../lib/FileUploadInput\";import{SetPopupContext}from\"../App\";import apiList from\"../lib/apiList\";import isAuth from\"../lib/isAuth\";var useStyles=makeStyles(function(theme){return{body:{padding:\"60px 60px\"},inputBox:{width:\"400px\"},submitButton:{width:\"400px\"}};});var MultifieldInput=function MultifieldInput(props){var classes=useStyles();var education=props.education,setEducation=props.setEducation;return/*#__PURE__*/_jsxs(_Fragment,{children:[education.map(function(obj,key){return/*#__PURE__*/_jsxs(Grid,{item:true,container:true,className:classes.inputBox,style:{paddingLeft:0,paddingRight:0},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{label:\"Institution Name #\".concat(key+1),value:education[key].institutionName,onChange:function onChange(event){var newEdu=_toConsumableArray(education);newEdu[key].institutionName=event.target.value;setEducation(newEdu);},variant:\"outlined\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:3,children:/*#__PURE__*/_jsx(TextField,{label:\"Start Year\",value:obj.startYear,variant:\"outlined\",type:\"number\",onChange:function onChange(event){var newEdu=_toConsumableArray(education);newEdu[key].startYear=event.target.value;setEducation(newEdu);}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:3,children:/*#__PURE__*/_jsx(TextField,{label:\"End Year\",value:obj.endYear,variant:\"outlined\",type:\"number\",onChange:function onChange(event){var newEdu=_toConsumableArray(education);newEdu[key].endYear=event.target.value;setEducation(newEdu);}})})]},key);}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:function onClick(){return setEducation([].concat(_toConsumableArray(education),[{institutionName:\"\",startYear:\"\",endYear:\"\"}]));},className:classes.inputBox,children:\"Add another institution details\"})})]});};var Login=function Login(props){var classes=useStyles();var setPopup=useContext(SetPopupContext);var _useState=useState(isAuth()),_useState2=_slicedToArray(_useState,2),loggedin=_useState2[0],setLoggedin=_useState2[1];var _useState3=useState({type:\"applicant\",email:\"\",password:\"\",name:\"\",education:[],skills:[],resume:\"\",profile:\"\",bio:\"\",contactNumber:\"\"}),_useState4=_slicedToArray(_useState3,2),signupDetails=_useState4[0],setSignupDetails=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),phone=_useState6[0],setPhone=_useState6[1];var _useState7=useState([{institutionName:\"\",startYear:\"\",endYear:\"\"}]),_useState8=_slicedToArray(_useState7,2),education=_useState8[0],setEducation=_useState8[1];var _useState9=useState({email:{untouched:true,required:true,error:false,message:\"\"},password:{untouched:true,required:true,error:false,message:\"\"},name:{untouched:true,required:true,error:false,message:\"\"}}),_useState10=_slicedToArray(_useState9,2),inputErrorHandler=_useState10[0],setInputErrorHandler=_useState10[1];var handleInput=function handleInput(key,value){setSignupDetails(_objectSpread(_objectSpread({},signupDetails),{},_defineProperty({},key,value)));};var handleInputError=function handleInputError(key,status,message){setInputErrorHandler(_objectSpread(_objectSpread({},inputErrorHandler),{},_defineProperty({},key,{required:true,untouched:false,error:status,message:message})));};var handleLogin=function handleLogin(){var tmpErrorHandler={};Object.keys(inputErrorHandler).forEach(function(obj){if(inputErrorHandler[obj].required&&inputErrorHandler[obj].untouched){tmpErrorHandler[obj]={required:true,untouched:false,error:true,message:\"\".concat(obj[0].toUpperCase()+obj.substr(1),\" is required\")};}else{tmpErrorHandler[obj]=inputErrorHandler[obj];}});console.log(education);var updatedDetails=_objectSpread(_objectSpread({},signupDetails),{},{education:education.filter(function(obj){return obj.institutionName.trim()!==\"\";}).map(function(obj){if(obj[\"endYear\"]===\"\"){delete obj[\"endYear\"];}return obj;})});setSignupDetails(updatedDetails);var verified=!Object.keys(tmpErrorHandler).some(function(obj){return tmpErrorHandler[obj].error;});if(verified){axios.post(apiList.signup,updatedDetails).then(function(response){localStorage.setItem(\"token\",response.data.token);localStorage.setItem(\"type\",response.data.type);setLoggedin(isAuth());setPopup({open:true,severity:\"success\",message:\"Logged in successfully\"});console.log(response);}).catch(function(err){setPopup({open:true,severity:\"error\",message:err.response.data.message});console.log(err.response);});}else{setInputErrorHandler(tmpErrorHandler);setPopup({open:true,severity:\"error\",message:\"Incorrect Input\"});}};var handleLoginRecruiter=function handleLoginRecruiter(){var tmpErrorHandler={};Object.keys(inputErrorHandler).forEach(function(obj){if(inputErrorHandler[obj].required&&inputErrorHandler[obj].untouched){tmpErrorHandler[obj]={required:true,untouched:false,error:true,message:\"\".concat(obj[0].toUpperCase()+obj.substr(1),\" is required\")};}else{tmpErrorHandler[obj]=inputErrorHandler[obj];}});var updatedDetails=_objectSpread({},signupDetails);if(phone!==\"\"){updatedDetails=_objectSpread(_objectSpread({},signupDetails),{},{contactNumber:\"+\".concat(phone)});}else{updatedDetails=_objectSpread(_objectSpread({},signupDetails),{},{contactNumber:\"\"});}setSignupDetails(updatedDetails);var verified=!Object.keys(tmpErrorHandler).some(function(obj){return tmpErrorHandler[obj].error;});console.log(updatedDetails);if(verified){axios.post(apiList.signup,updatedDetails).then(function(response){localStorage.setItem(\"token\",response.data.token);localStorage.setItem(\"type\",response.data.type);setLoggedin(isAuth());setPopup({open:true,severity:\"success\",message:\"Logged in successfully\"});console.log(response);}).catch(function(err){setPopup({open:true,severity:\"error\",message:err.response.data.message});console.log(err.response);});}else{setInputErrorHandler(tmpErrorHandler);setPopup({open:true,severity:\"error\",message:\"Incorrect Input\"});}};return loggedin?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):/*#__PURE__*/_jsx(Paper,{elevation:3,className:classes.body,children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",spacing:4,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"h3\",component:\"h2\",children:\"Signup\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(TextField,{select:true,label:\"Category\",variant:\"outlined\",className:classes.inputBox,value:signupDetails.type,onChange:function onChange(event){handleInput(\"type\",event.target.value);},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"applicant\",children:\"Applicant\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"recruiter\",children:\"Recruiter\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(TextField,{label:\"Name\",value:signupDetails.name,onChange:function onChange(event){return handleInput(\"name\",event.target.value);},className:classes.inputBox,error:inputErrorHandler.name.error,helperText:inputErrorHandler.name.message,onBlur:function onBlur(event){if(event.target.value===\"\"){handleInputError(\"name\",true,\"Name is required\");}else{handleInputError(\"name\",false,\"\");}},variant:\"outlined\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(EmailInput,{label:\"Email\",value:signupDetails.email,onChange:function onChange(event){return handleInput(\"email\",event.target.value);},inputErrorHandler:inputErrorHandler,handleInputError:handleInputError,className:classes.inputBox,required:true})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(PasswordInput,{label:\"Password\",value:signupDetails.password,onChange:function onChange(event){return handleInput(\"password\",event.target.value);},className:classes.inputBox,error:inputErrorHandler.password.error,helperText:inputErrorHandler.password.message,onBlur:function onBlur(event){if(event.target.value===\"\"){handleInputError(\"password\",true,\"Password is required\");}else{handleInputError(\"password\",false,\"\");}}})}),signupDetails.type===\"applicant\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MultifieldInput,{education:education,setEducation:setEducation}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(ChipInput,{className:classes.inputBox,label:\"Skills\",variant:\"outlined\",helperText:\"Press enter to add skills\",onChange:function onChange(chips){return setSignupDetails(_objectSpread(_objectSpread({},signupDetails),{},{skills:chips}));}})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(FileUploadInput,{className:classes.inputBox,label:\"Resume (.pdf)\",icon:/*#__PURE__*/_jsx(DescriptionIcon,{})// value={files.resume}\n// onChange={(event) =>\n//   setFiles({\n//     ...files,\n//     resume: event.target.files[0],\n//   })\n// }\n,uploadTo:apiList.uploadResume,handleInput:handleInput,identifier:\"resume\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(FileUploadInput,{className:classes.inputBox,label:\"Profile Photo (.jpg/.png)\",icon:/*#__PURE__*/_jsx(FaceIcon,{})// value={files.profileImage}\n// onChange={(event) =>\n//   setFiles({\n//     ...files,\n//     profileImage: event.target.files[0],\n//   })\n// }\n,uploadTo:apiList.uploadProfileImage,handleInput:handleInput,identifier:\"profile\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Grid,{item:true,style:{width:\"100%\"},children:/*#__PURE__*/_jsx(TextField,{label:\"Bio (upto 250 words)\",multiline:true,rows:8,style:{width:\"100%\"},variant:\"outlined\",value:signupDetails.bio,onChange:function onChange(event){if(event.target.value.split(\" \").filter(function(n){return n!=\"\";}).length<=250){handleInput(\"bio\",event.target.value);}}})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(PhoneInput,{country:\"in\",value:phone,onChange:function onChange(phone){return setPhone(phone);}})})]}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:function onClick(){signupDetails.type===\"applicant\"?handleLogin():handleLoginRecruiter();},className:classes.submitButton,children:\"Signup\"})})]})});};export default Login;// {/* <Grid item>\n//           <PasswordInput\n//             label=\"Re-enter Password\"\n//             value={signupDetails.tmpPassword}\n//             onChange={(event) => handleInput(\"tmpPassword\", event.target.value)}\n//             className={classes.inputBox}\n//             labelWidth={140}\n//             helperText={inputErrorHandler.tmpPassword.message}\n//             error={inputErrorHandler.tmpPassword.error}\n//             onBlur={(event) => {\n//               if (event.target.value !== signupDetails.password) {\n//                 handleInputError(\n//                   \"tmpPassword\",\n//                   true,\n//                   \"Passwords are not same.\"\n//                 );\n//               }\n//             }}\n//           />\n//         </Grid> */}","map":{"version":3,"sources":["/home/shera/Desktop/React/job-portal-main/frontend/src/component/Signup.js"],"names":["useState","useContext","Grid","TextField","Button","Typography","makeStyles","Paper","MenuItem","Input","axios","Redirect","ChipInput","DescriptionIcon","FaceIcon","PhoneInput","PasswordInput","EmailInput","FileUploadInput","SetPopupContext","apiList","isAuth","useStyles","theme","body","padding","inputBox","width","submitButton","MultifieldInput","props","classes","education","setEducation","map","obj","key","paddingLeft","paddingRight","institutionName","event","newEdu","target","value","startYear","endYear","Login","setPopup","loggedin","setLoggedin","type","email","password","name","skills","resume","profile","bio","contactNumber","signupDetails","setSignupDetails","phone","setPhone","untouched","required","error","message","inputErrorHandler","setInputErrorHandler","handleInput","handleInputError","status","handleLogin","tmpErrorHandler","Object","keys","forEach","toUpperCase","substr","console","log","updatedDetails","filter","trim","verified","some","post","signup","then","response","localStorage","setItem","data","token","open","severity","catch","err","handleLoginRecruiter","chips","uploadResume","uploadProfileImage","split","n","length"],"mappings":"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","sourcesContent":["import { useState, useContext } from \"react\";\nimport {\n  Grid,\n  TextField,\n  Button,\n  Typography,\n  makeStyles,\n  Paper,\n  MenuItem,\n  Input,\n} from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport ChipInput from \"material-ui-chip-input\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport FaceIcon from \"@material-ui/icons/Face\";\nimport PhoneInput from \"react-phone-input-2\";\nimport \"react-phone-input-2/lib/material.css\";\n\nimport PasswordInput from \"../lib/PasswordInput\";\nimport EmailInput from \"../lib/EmailInput\";\nimport FileUploadInput from \"../lib/FileUploadInput\";\nimport { SetPopupContext } from \"../App\";\n\nimport apiList from \"../lib/apiList\";\nimport isAuth from \"../lib/isAuth\";\n\nconst useStyles = makeStyles((theme) => ({\n  body: {\n    padding: \"60px 60px\",\n  },\n  inputBox: {\n    width: \"400px\",\n  },\n  submitButton: {\n    width: \"400px\",\n  },\n}));\n\nconst MultifieldInput = (props) => {\n  const classes = useStyles();\n  const { education, setEducation } = props;\n\n  return (\n    <>\n      {education.map((obj, key) => (\n        <Grid\n          item\n          container\n          className={classes.inputBox}\n          key={key}\n          style={{ paddingLeft: 0, paddingRight: 0 }}\n        >\n          <Grid item xs={6}>\n            <TextField\n              label={`Institution Name #${key + 1}`}\n              value={education[key].institutionName}\n              onChange={(event) => {\n                const newEdu = [...education];\n                newEdu[key].institutionName = event.target.value;\n                setEducation(newEdu);\n              }}\n              variant=\"outlined\"\n            />\n          </Grid>\n          <Grid item xs={3}>\n            <TextField\n              label=\"Start Year\"\n              value={obj.startYear}\n              variant=\"outlined\"\n              type=\"number\"\n              onChange={(event) => {\n                const newEdu = [...education];\n                newEdu[key].startYear = event.target.value;\n                setEducation(newEdu);\n              }}\n            />\n          </Grid>\n          <Grid item xs={3}>\n            <TextField\n              label=\"End Year\"\n              value={obj.endYear}\n              variant=\"outlined\"\n              type=\"number\"\n              onChange={(event) => {\n                const newEdu = [...education];\n                newEdu[key].endYear = event.target.value;\n                setEducation(newEdu);\n              }}\n            />\n          </Grid>\n        </Grid>\n      ))}\n      <Grid item>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={() =>\n            setEducation([\n              ...education,\n              {\n                institutionName: \"\",\n                startYear: \"\",\n                endYear: \"\",\n              },\n            ])\n          }\n          className={classes.inputBox}\n        >\n          Add another institution details\n        </Button>\n      </Grid>\n    </>\n  );\n};\n\nconst Login = (props) => {\n  const classes = useStyles();\n  const setPopup = useContext(SetPopupContext);\n\n  const [loggedin, setLoggedin] = useState(isAuth());\n\n  const [signupDetails, setSignupDetails] = useState({\n    type: \"applicant\",\n    email: \"\",\n    password: \"\",\n    name: \"\",\n    education: [],\n    skills: [],\n    resume: \"\",\n    profile: \"\",\n    bio: \"\",\n    contactNumber: \"\",\n  });\n\n  const [phone, setPhone] = useState(\"\");\n\n  const [education, setEducation] = useState([\n    {\n      institutionName: \"\",\n      startYear: \"\",\n      endYear: \"\",\n    },\n  ]);\n\n  const [inputErrorHandler, setInputErrorHandler] = useState({\n    email: {\n      untouched: true,\n      required: true,\n      error: false,\n      message: \"\",\n    },\n    password: {\n      untouched: true,\n      required: true,\n      error: false,\n      message: \"\",\n    },\n    name: {\n      untouched: true,\n      required: true,\n      error: false,\n      message: \"\",\n    },\n  });\n\n  const handleInput = (key, value) => {\n    setSignupDetails({\n      ...signupDetails,\n      [key]: value,\n    });\n  };\n\n  const handleInputError = (key, status, message) => {\n    setInputErrorHandler({\n      ...inputErrorHandler,\n      [key]: {\n        required: true,\n        untouched: false,\n        error: status,\n        message: message,\n      },\n    });\n  };\n\n  const handleLogin = () => {\n    const tmpErrorHandler = {};\n    Object.keys(inputErrorHandler).forEach((obj) => {\n      if (inputErrorHandler[obj].required && inputErrorHandler[obj].untouched) {\n        tmpErrorHandler[obj] = {\n          required: true,\n          untouched: false,\n          error: true,\n          message: `${obj[0].toUpperCase() + obj.substr(1)} is required`,\n        };\n      } else {\n        tmpErrorHandler[obj] = inputErrorHandler[obj];\n      }\n    });\n\n    console.log(education);\n\n    let updatedDetails = {\n      ...signupDetails,\n      education: education\n        .filter((obj) => obj.institutionName.trim() !== \"\")\n        .map((obj) => {\n          if (obj[\"endYear\"] === \"\") {\n            delete obj[\"endYear\"];\n          }\n          return obj;\n        }),\n    };\n\n    setSignupDetails(updatedDetails);\n\n    const verified = !Object.keys(tmpErrorHandler).some((obj) => {\n      return tmpErrorHandler[obj].error;\n    });\n\n    if (verified) {\n      axios\n        .post(apiList.signup, updatedDetails)\n        .then((response) => {\n          localStorage.setItem(\"token\", response.data.token);\n          localStorage.setItem(\"type\", response.data.type);\n          setLoggedin(isAuth());\n          setPopup({\n            open: true,\n            severity: \"success\",\n            message: \"Logged in successfully\",\n          });\n          console.log(response);\n        })\n        .catch((err) => {\n          setPopup({\n            open: true,\n            severity: \"error\",\n            message: err.response.data.message,\n          });\n          console.log(err.response);\n        });\n    } else {\n      setInputErrorHandler(tmpErrorHandler);\n      setPopup({\n        open: true,\n        severity: \"error\",\n        message: \"Incorrect Input\",\n      });\n    }\n  };\n\n  const handleLoginRecruiter = () => {\n    const tmpErrorHandler = {};\n    Object.keys(inputErrorHandler).forEach((obj) => {\n      if (inputErrorHandler[obj].required && inputErrorHandler[obj].untouched) {\n        tmpErrorHandler[obj] = {\n          required: true,\n          untouched: false,\n          error: true,\n          message: `${obj[0].toUpperCase() + obj.substr(1)} is required`,\n        };\n      } else {\n        tmpErrorHandler[obj] = inputErrorHandler[obj];\n      }\n    });\n\n    let updatedDetails = {\n      ...signupDetails,\n    };\n    if (phone !== \"\") {\n      updatedDetails = {\n        ...signupDetails,\n        contactNumber: `+${phone}`,\n      };\n    } else {\n      updatedDetails = {\n        ...signupDetails,\n        contactNumber: \"\",\n      };\n    }\n\n    setSignupDetails(updatedDetails);\n\n    const verified = !Object.keys(tmpErrorHandler).some((obj) => {\n      return tmpErrorHandler[obj].error;\n    });\n\n    console.log(updatedDetails);\n\n    if (verified) {\n      axios\n        .post(apiList.signup, updatedDetails)\n        .then((response) => {\n          localStorage.setItem(\"token\", response.data.token);\n          localStorage.setItem(\"type\", response.data.type);\n          setLoggedin(isAuth());\n          setPopup({\n            open: true,\n            severity: \"success\",\n            message: \"Logged in successfully\",\n          });\n          console.log(response);\n        })\n        .catch((err) => {\n          setPopup({\n            open: true,\n            severity: \"error\",\n            message: err.response.data.message,\n          });\n          console.log(err.response);\n        });\n    } else {\n      setInputErrorHandler(tmpErrorHandler);\n      setPopup({\n        open: true,\n        severity: \"error\",\n        message: \"Incorrect Input\",\n      });\n    }\n  };\n\n  return loggedin ? (\n    <Redirect to=\"/\" />\n  ) : (\n    <Paper elevation={3} className={classes.body}>\n      <Grid container direction=\"column\" spacing={4} alignItems=\"center\">\n        <Grid item>\n          <Typography variant=\"h3\" component=\"h2\">\n            Signup\n          </Typography>\n        </Grid>\n        <Grid item>\n          <TextField\n            select\n            label=\"Category\"\n            variant=\"outlined\"\n            className={classes.inputBox}\n            value={signupDetails.type}\n            onChange={(event) => {\n              handleInput(\"type\", event.target.value);\n            }}\n          >\n            <MenuItem value=\"applicant\">Applicant</MenuItem>\n            <MenuItem value=\"recruiter\">Recruiter</MenuItem>\n          </TextField>\n        </Grid>\n        <Grid item>\n          <TextField\n            label=\"Name\"\n            value={signupDetails.name}\n            onChange={(event) => handleInput(\"name\", event.target.value)}\n            className={classes.inputBox}\n            error={inputErrorHandler.name.error}\n            helperText={inputErrorHandler.name.message}\n            onBlur={(event) => {\n              if (event.target.value === \"\") {\n                handleInputError(\"name\", true, \"Name is required\");\n              } else {\n                handleInputError(\"name\", false, \"\");\n              }\n            }}\n            variant=\"outlined\"\n          />\n        </Grid>\n        <Grid item>\n          <EmailInput\n            label=\"Email\"\n            value={signupDetails.email}\n            onChange={(event) => handleInput(\"email\", event.target.value)}\n            inputErrorHandler={inputErrorHandler}\n            handleInputError={handleInputError}\n            className={classes.inputBox}\n            required={true}\n          />\n        </Grid>\n        <Grid item>\n          <PasswordInput\n            label=\"Password\"\n            value={signupDetails.password}\n            onChange={(event) => handleInput(\"password\", event.target.value)}\n            className={classes.inputBox}\n            error={inputErrorHandler.password.error}\n            helperText={inputErrorHandler.password.message}\n            onBlur={(event) => {\n              if (event.target.value === \"\") {\n                handleInputError(\"password\", true, \"Password is required\");\n              } else {\n                handleInputError(\"password\", false, \"\");\n              }\n            }}\n          />\n        </Grid>\n        {signupDetails.type === \"applicant\" ? (\n          <>\n            <MultifieldInput\n              education={education}\n              setEducation={setEducation}\n            />\n            <Grid item>\n              <ChipInput\n                className={classes.inputBox}\n                label=\"Skills\"\n                variant=\"outlined\"\n                helperText=\"Press enter to add skills\"\n                onChange={(chips) =>\n                  setSignupDetails({ ...signupDetails, skills: chips })\n                }\n              />\n            </Grid>\n            <Grid item>\n              <FileUploadInput\n                className={classes.inputBox}\n                label=\"Resume (.pdf)\"\n                icon={<DescriptionIcon />}\n                // value={files.resume}\n                // onChange={(event) =>\n                //   setFiles({\n                //     ...files,\n                //     resume: event.target.files[0],\n                //   })\n                // }\n                uploadTo={apiList.uploadResume}\n                handleInput={handleInput}\n                identifier={\"resume\"}\n              />\n            </Grid>\n            <Grid item>\n              <FileUploadInput\n                className={classes.inputBox}\n                label=\"Profile Photo (.jpg/.png)\"\n                icon={<FaceIcon />}\n                // value={files.profileImage}\n                // onChange={(event) =>\n                //   setFiles({\n                //     ...files,\n                //     profileImage: event.target.files[0],\n                //   })\n                // }\n                uploadTo={apiList.uploadProfileImage}\n                handleInput={handleInput}\n                identifier={\"profile\"}\n              />\n            </Grid>\n          </>\n        ) : (\n          <>\n            <Grid item style={{ width: \"100%\" }}>\n              <TextField\n                label=\"Bio (upto 250 words)\"\n                multiline\n                rows={8}\n                style={{ width: \"100%\" }}\n                variant=\"outlined\"\n                value={signupDetails.bio}\n                onChange={(event) => {\n                  if (\n                    event.target.value.split(\" \").filter(function (n) {\n                      return n != \"\";\n                    }).length <= 250\n                  ) {\n                    handleInput(\"bio\", event.target.value);\n                  }\n                }}\n              />\n            </Grid>\n            <Grid item>\n              <PhoneInput\n                country={\"in\"}\n                value={phone}\n                onChange={(phone) => setPhone(phone)}\n              />\n            </Grid>\n          </>\n        )}\n\n        <Grid item>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => {\n              signupDetails.type === \"applicant\"\n                ? handleLogin()\n                : handleLoginRecruiter();\n            }}\n            className={classes.submitButton}\n          >\n            Signup\n          </Button>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default Login;\n\n// {/* <Grid item>\n//           <PasswordInput\n//             label=\"Re-enter Password\"\n//             value={signupDetails.tmpPassword}\n//             onChange={(event) => handleInput(\"tmpPassword\", event.target.value)}\n//             className={classes.inputBox}\n//             labelWidth={140}\n//             helperText={inputErrorHandler.tmpPassword.message}\n//             error={inputErrorHandler.tmpPassword.error}\n//             onBlur={(event) => {\n//               if (event.target.value !== signupDetails.password) {\n//                 handleInputError(\n//                   \"tmpPassword\",\n//                   true,\n//                   \"Passwords are not same.\"\n//                 );\n//               }\n//             }}\n//           />\n//         </Grid> */}\n"]},"metadata":{},"sourceType":"module"}