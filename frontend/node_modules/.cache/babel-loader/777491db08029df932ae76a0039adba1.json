{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import _toConsumableArray from\"/home/shera/Desktop/React/job-portal-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/shera/Desktop/React/job-portal-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _objectSpread from\"/home/shera/Desktop/React/job-portal-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import{useState,useEffect,useContext}from\"react\";import{Button,Chip,Grid,IconButton,InputAdornment,makeStyles,Paper,TextField,Typography,Modal,Slider,FormControlLabel,FormGroup,MenuItem,Checkbox,Avatar}from\"@material-ui/core\";import{useParams}from\"react-router-dom\";import Rating from\"@material-ui/lab/Rating\";import axios from\"axios\";import FilterListIcon from\"@material-ui/icons/FilterList\";import ArrowUpwardIcon from\"@material-ui/icons/ArrowUpward\";import ArrowDownwardIcon from\"@material-ui/icons/ArrowDownward\";import{SetPopupContext}from\"../../App\";import apiList,{server}from\"../../lib/apiList\";var useStyles=makeStyles(function(theme){return{body:{height:\"inherit\"},statusBlock:{width:\"100%\",height:\"100%\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",textTransform:\"uppercase\"},jobTileOuter:{padding:\"30px\",margin:\"20px 0\",boxSizing:\"border-box\",width:\"100%\"},popupDialog:{height:\"100%\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},avatar:{width:theme.spacing(17),height:theme.spacing(17)}};});var FilterPopup=function FilterPopup(props){var classes=useStyles();var open=props.open,handleClose=props.handleClose,searchOptions=props.searchOptions,setSearchOptions=props.setSearchOptions,getData=props.getData;return/*#__PURE__*/_jsx(Modal,{open:open,onClose:handleClose,className:classes.popupDialog,children:/*#__PURE__*/_jsx(Paper,{style:{padding:\"50px\",outline:\"none\",minWidth:\"50%\"},children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",alignItems:\"center\",spacing:3,children:[/*#__PURE__*/_jsxs(Grid,{container:true,item:true,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:3,children:\"Sort\"}),/*#__PURE__*/_jsxs(Grid,{item:true,container:true,direction:\"row\",xs:9,children:[/*#__PURE__*/_jsxs(Grid,{item:true,container:true,xs:6,justify:\"space-around\",alignItems:\"center\",style:{border:\"1px solid #D1D1D1\",borderRadius:\"5px\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Checkbox,{name:\"name\",checked:searchOptions.sort[\"jobApplicant.name\"].status,onChange:function onChange(event){return setSearchOptions(_objectSpread(_objectSpread({},searchOptions),{},{sort:_objectSpread(_objectSpread({},searchOptions.sort),{},{\"jobApplicant.name\":_objectSpread(_objectSpread({},searchOptions.sort[\"jobApplicant.name\"]),{},{status:event.target.checked})})}));},id:\"name\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(\"label\",{for:\"name\",children:/*#__PURE__*/_jsx(Typography,{children:\"Name\"})})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(IconButton,{disabled:!searchOptions.sort[\"jobApplicant.name\"].status,onClick:function onClick(){setSearchOptions(_objectSpread(_objectSpread({},searchOptions),{},{sort:_objectSpread(_objectSpread({},searchOptions.sort),{},{\"jobApplicant.name\":_objectSpread(_objectSpread({},searchOptions.sort[\"jobApplicant.name\"]),{},{desc:!searchOptions.sort[\"jobApplicant.name\"].desc})})}));},children:searchOptions.sort[\"jobApplicant.name\"].desc?/*#__PURE__*/_jsx(ArrowDownwardIcon,{}):/*#__PURE__*/_jsx(ArrowUpwardIcon,{})})})]}),/*#__PURE__*/_jsxs(Grid,{item:true,container:true,xs:6,justify:\"space-around\",alignItems:\"center\",style:{border:\"1px solid #D1D1D1\",borderRadius:\"5px\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Checkbox,{name:\"jobTitle\",checked:searchOptions.sort[\"job.title\"].status,onChange:function onChange(event){return setSearchOptions(_objectSpread(_objectSpread({},searchOptions),{},{sort:_objectSpread(_objectSpread({},searchOptions.sort),{},{\"job.title\":_objectSpread(_objectSpread({},searchOptions.sort[\"job.title\"]),{},{status:event.target.checked})})}));},id:\"jobTitle\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(\"label\",{for:\"jobTitle\",children:/*#__PURE__*/_jsx(Typography,{children:\"Job Title\"})})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(IconButton,{disabled:!searchOptions.sort[\"job.title\"].status,onClick:function onClick(){setSearchOptions(_objectSpread(_objectSpread({},searchOptions),{},{sort:_objectSpread(_objectSpread({},searchOptions.sort),{},{\"job.title\":_objectSpread(_objectSpread({},searchOptions.sort[\"job.title\"]),{},{desc:!searchOptions.sort[\"job.title\"].desc})})}));},children:searchOptions.sort[\"job.title\"].desc?/*#__PURE__*/_jsx(ArrowDownwardIcon,{}):/*#__PURE__*/_jsx(ArrowUpwardIcon,{})})})]}),/*#__PURE__*/_jsxs(Grid,{item:true,container:true,xs:6,justify:\"space-around\",alignItems:\"center\",style:{border:\"1px solid #D1D1D1\",borderRadius:\"5px\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Checkbox,{name:\"dateOfJoining\",checked:searchOptions.sort.dateOfJoining.status,onChange:function onChange(event){return setSearchOptions(_objectSpread(_objectSpread({},searchOptions),{},{sort:_objectSpread(_objectSpread({},searchOptions.sort),{},{dateOfJoining:_objectSpread(_objectSpread({},searchOptions.sort.dateOfJoining),{},{status:event.target.checked})})}));},id:\"dateOfJoining\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(\"label\",{for:\"dateOfJoining\",children:/*#__PURE__*/_jsx(Typography,{children:\"Date of Joining\"})})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(IconButton,{disabled:!searchOptions.sort.dateOfJoining.status,onClick:function onClick(){setSearchOptions(_objectSpread(_objectSpread({},searchOptions),{},{sort:_objectSpread(_objectSpread({},searchOptions.sort),{},{dateOfJoining:_objectSpread(_objectSpread({},searchOptions.sort.dateOfJoining),{},{desc:!searchOptions.sort.dateOfJoining.desc})})}));},children:searchOptions.sort.dateOfJoining.desc?/*#__PURE__*/_jsx(ArrowDownwardIcon,{}):/*#__PURE__*/_jsx(ArrowUpwardIcon,{})})})]}),/*#__PURE__*/_jsxs(Grid,{item:true,container:true,xs:6,justify:\"space-around\",alignItems:\"center\",style:{border:\"1px solid #D1D1D1\",borderRadius:\"5px\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Checkbox,{name:\"rating\",checked:searchOptions.sort[\"jobApplicant.rating\"].status,onChange:function onChange(event){return setSearchOptions(_objectSpread(_objectSpread({},searchOptions),{},{sort:_objectSpread(_objectSpread({},searchOptions.sort),{},{\"jobApplicant.rating\":_objectSpread(_objectSpread({},searchOptions.sort[[\"jobApplicant.rating\"]]),{},{status:event.target.checked})})}));},id:\"rating\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(\"label\",{for:\"rating\",children:/*#__PURE__*/_jsx(Typography,{children:\"Rating\"})})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(IconButton,{disabled:!searchOptions.sort[\"jobApplicant.rating\"].status,onClick:function onClick(){setSearchOptions(_objectSpread(_objectSpread({},searchOptions),{},{sort:_objectSpread(_objectSpread({},searchOptions.sort),{},{\"jobApplicant.rating\":_objectSpread(_objectSpread({},searchOptions.sort[\"jobApplicant.rating\"]),{},{desc:!searchOptions.sort[\"jobApplicant.rating\"].desc})})}));},children:searchOptions.sort[\"jobApplicant.rating\"].desc?/*#__PURE__*/_jsx(ArrowDownwardIcon,{}):/*#__PURE__*/_jsx(ArrowUpwardIcon,{})})})]})]})]}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",style:{padding:\"10px 50px\"},onClick:function onClick(){return getData();},children:\"Apply\"})})]})})});};var ApplicationTile=function ApplicationTile(props){var classes=useStyles();var application=props.application,getData=props.getData;var setPopup=useContext(SetPopupContext);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openEndJob=_useState4[0],setOpenEndJob=_useState4[1];var _useState5=useState(application.jobApplicant.rating),_useState6=_slicedToArray(_useState5,2),rating=_useState6[0],setRating=_useState6[1];var appliedOn=new Date(application.dateOfApplication);var changeRating=function changeRating(){axios.put(apiList.rating,{rating:rating,applicantId:application.jobApplicant.userId},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(response){console.log(response.data);setPopup({open:true,severity:\"success\",message:\"Rating updated successfully\"});// fetchRating();\ngetData();setOpen(false);}).catch(function(err){// console.log(err.response);\nconsole.log(err);setPopup({open:true,severity:\"error\",message:err.response.data.message});// fetchRating();\ngetData();setOpen(false);});};var handleClose=function handleClose(){setOpen(false);};var handleCloseEndJob=function handleCloseEndJob(){setOpenEndJob(false);};var colorSet={applied:\"#3454D1\",shortlisted:\"#DC851F\",accepted:\"#09BC8A\",rejected:\"#D1345B\",deleted:\"#B49A67\",cancelled:\"#FF8484\",finished:\"#4EA5D9\"};var getResume=function getResume(){if(application.jobApplicant.resume&&application.jobApplicant.resume!==\"\"){var address=\"\".concat(server).concat(application.jobApplicant.resume);console.log(address);axios(address,{method:\"GET\",responseType:\"blob\"}).then(function(response){var file=new Blob([response.data],{type:\"application/pdf\"});var fileURL=URL.createObjectURL(file);window.open(fileURL);}).catch(function(error){console.log(error);setPopup({open:true,severity:\"error\",message:\"Error\"});});}else{setPopup({open:true,severity:\"error\",message:\"No resume found\"});}};var updateStatus=function updateStatus(status){var address=\"\".concat(apiList.applications,\"/\").concat(application._id);var statusData={status:status,dateOfJoining:new Date().toISOString()};axios.put(address,statusData,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(response){setPopup({open:true,severity:\"success\",message:response.data.message});handleCloseEndJob();getData();}).catch(function(err){setPopup({open:true,severity:\"error\",message:err.response.data.message});console.log(err.response);handleCloseEndJob();});};return/*#__PURE__*/_jsxs(Paper,{className:classes.jobTileOuter,elevation:3,children:[/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:2,style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(Avatar,{src:\"\".concat(server).concat(application.jobApplicant.profile),className:classes.avatar})}),/*#__PURE__*/_jsxs(Grid,{container:true,item:true,xs:7,spacing:1,direction:\"column\",children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:application.jobApplicant.name})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Rating,{value:application.jobApplicant.rating!==-1?application.jobApplicant.rating:null,readOnly:true})}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"Job Title: \",application.job.title]}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"Role: \",application.job.jobType]}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"Applied On: \",appliedOn.toLocaleDateString()]}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"SOP: \",application.sop!==\"\"?application.sop:\"Not Submitted\"]}),/*#__PURE__*/_jsx(Grid,{item:true,children:application.jobApplicant.skills.map(function(skill){return/*#__PURE__*/_jsx(Chip,{label:skill,style:{marginRight:\"2px\"}});})})]}),/*#__PURE__*/_jsxs(Grid,{item:true,container:true,direction:\"column\",xs:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:classes.statusBlock,color:\"primary\",onClick:function onClick(){return getResume();},children:\"Download Resume\"})}),/*#__PURE__*/_jsx(Grid,{item:true,container:true,xs:true,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",className:classes.statusBlock,style:{background:\"#09BC8A\"},onClick:function onClick(){setOpenEndJob(true);},children:\"End Job\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",className:classes.statusBlock,onClick:function onClick(){setOpen(true);},children:\"Rate Applicant\"})})]})]}),/*#__PURE__*/_jsx(Modal,{open:open,onClose:handleClose,className:classes.popupDialog,children:/*#__PURE__*/_jsxs(Paper,{style:{padding:\"20px\",outline:\"none\",display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",minWidth:\"30%\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(Rating,{name:\"simple-controlled\",style:{marginBottom:\"30px\"},value:rating===-1?null:rating,onChange:function onChange(event,newValue){setRating(newValue);}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",style:{padding:\"10px 50px\"},onClick:function onClick(){return changeRating();},children:\"Submit\"})]})}),/*#__PURE__*/_jsx(Modal,{open:openEndJob,onClose:handleCloseEndJob,className:classes.popupDialog,children:/*#__PURE__*/_jsxs(Paper,{style:{padding:\"20px\",outline:\"none\",display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",minWidth:\"30%\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",style:{marginBottom:\"10px\"},children:\"Are you sure?\"}),/*#__PURE__*/_jsxs(Grid,{container:true,justify:\"center\",spacing:5,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",style:{padding:\"10px 50px\"},onClick:function onClick(){updateStatus(\"finished\");},children:\"Yes\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",style:{padding:\"10px 50px\"},onClick:function onClick(){return handleCloseEndJob();},children:\"Cancel\"})})]})]})})]});};var AcceptedApplicants=function AcceptedApplicants(props){var setPopup=useContext(SetPopupContext);var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),applications=_useState8[0],setApplications=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),filterOpen=_useState10[0],setFilterOpen=_useState10[1];var _useState11=useState({sort:{\"jobApplicant.name\":{status:false,desc:false},\"job.title\":{status:false,desc:false},dateOfJoining:{status:true,desc:true},\"jobApplicant.rating\":{status:false,desc:false}}}),_useState12=_slicedToArray(_useState11,2),searchOptions=_useState12[0],setSearchOptions=_useState12[1];useEffect(function(){_getData();},[]);var _getData=function getData(){var searchParams=[];searchParams=[].concat(_toConsumableArray(searchParams),[\"status=accepted\"]);var asc=[],desc=[];Object.keys(searchOptions.sort).forEach(function(obj){var item=searchOptions.sort[obj];if(item.status){if(item.desc){desc=[].concat(_toConsumableArray(desc),[\"desc=\".concat(obj)]);}else{asc=[].concat(_toConsumableArray(asc),[\"asc=\".concat(obj)]);}}});searchParams=[].concat(_toConsumableArray(searchParams),_toConsumableArray(asc),_toConsumableArray(desc));var queryString=searchParams.join(\"&\");console.log(queryString);var address=\"\".concat(apiList.applicants);if(queryString!==\"\"){address=\"\".concat(address,\"?\").concat(queryString);}console.log(address);axios.get(address,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(response){console.log(response.data);setApplications(response.data);}).catch(function(err){console.log(err.response);// console.log(err.response.data);\nsetApplications([]);setPopup({open:true,severity:\"error\",message:err.response.data.message});});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Grid,{container:true,item:true,direction:\"column\",alignItems:\"center\",style:{padding:\"30px\",minHeight:\"93vh\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"h2\",children:\"Employees\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return setFilterOpen(true);},children:/*#__PURE__*/_jsx(FilterListIcon,{})})}),/*#__PURE__*/_jsx(Grid,{container:true,item:true,xs:true,direction:\"column\",style:{width:\"100%\"},alignItems:\"stretch\",justify:\"center\",children:applications.length>0?applications.map(function(obj){return/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(ApplicationTile,{application:obj,getData:_getData})});}):/*#__PURE__*/_jsx(Typography,{variant:\"h5\",style:{textAlign:\"center\"},children:\"No Applications Found\"})})]}),/*#__PURE__*/_jsx(FilterPopup,{open:filterOpen,searchOptions:searchOptions,setSearchOptions:setSearchOptions,handleClose:function handleClose(){return setFilterOpen(false);},getData:function getData(){_getData();setFilterOpen(false);}})]});};export default AcceptedApplicants;","map":{"version":3,"sources":["/home/shera/Desktop/React/job-portal-main/frontend/src/component/recruiter/AcceptedApplicants.js"],"names":["useState","useEffect","useContext","Button","Chip","Grid","IconButton","InputAdornment","makeStyles","Paper","TextField","Typography","Modal","Slider","FormControlLabel","FormGroup","MenuItem","Checkbox","Avatar","useParams","Rating","axios","FilterListIcon","ArrowUpwardIcon","ArrowDownwardIcon","SetPopupContext","apiList","server","useStyles","theme","body","height","statusBlock","width","display","alignItems","justifyContent","textTransform","jobTileOuter","padding","margin","boxSizing","popupDialog","avatar","spacing","FilterPopup","props","classes","open","handleClose","searchOptions","setSearchOptions","getData","outline","minWidth","border","borderRadius","sort","status","event","target","checked","desc","dateOfJoining","ApplicationTile","application","setPopup","setOpen","openEndJob","setOpenEndJob","jobApplicant","rating","setRating","appliedOn","Date","dateOfApplication","changeRating","put","applicantId","userId","headers","Authorization","localStorage","getItem","then","response","console","log","data","severity","message","catch","err","handleCloseEndJob","colorSet","applied","shortlisted","accepted","rejected","deleted","cancelled","finished","getResume","resume","address","method","responseType","file","Blob","type","fileURL","URL","createObjectURL","window","error","updateStatus","applications","_id","statusData","toISOString","profile","name","job","title","jobType","toLocaleDateString","sop","skills","map","skill","marginRight","background","flexDirection","marginBottom","newValue","AcceptedApplicants","setApplications","filterOpen","setFilterOpen","searchParams","asc","Object","keys","forEach","obj","item","queryString","join","applicants","get","minHeight","length","textAlign"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from \"react\";\nimport {\n  Button,\n  Chip,\n  Grid,\n  IconButton,\n  InputAdornment,\n  makeStyles,\n  Paper,\n  TextField,\n  Typography,\n  Modal,\n  Slider,\n  FormControlLabel,\n  FormGroup,\n  MenuItem,\n  Checkbox,\n  Avatar,\n} from \"@material-ui/core\";\nimport { useParams } from \"react-router-dom\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport axios from \"axios\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport ArrowUpwardIcon from \"@material-ui/icons/ArrowUpward\";\nimport ArrowDownwardIcon from \"@material-ui/icons/ArrowDownward\";\n\nimport { SetPopupContext } from \"../../App\";\n\nimport apiList, { server } from \"../../lib/apiList\";\n\nconst useStyles = makeStyles((theme) => ({\n  body: {\n    height: \"inherit\",\n  },\n  statusBlock: {\n    width: \"100%\",\n    height: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textTransform: \"uppercase\",\n  },\n  jobTileOuter: {\n    padding: \"30px\",\n    margin: \"20px 0\",\n    boxSizing: \"border-box\",\n    width: \"100%\",\n  },\n  popupDialog: {\n    height: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  avatar: {\n    width: theme.spacing(17),\n    height: theme.spacing(17),\n  },\n}));\n\nconst FilterPopup = (props) => {\n  const classes = useStyles();\n  const { open, handleClose, searchOptions, setSearchOptions, getData } = props;\n  return (\n    <Modal open={open} onClose={handleClose} className={classes.popupDialog}>\n      <Paper\n        style={{\n          padding: \"50px\",\n          outline: \"none\",\n          minWidth: \"50%\",\n        }}\n      >\n        <Grid container direction=\"column\" alignItems=\"center\" spacing={3}>\n          {/* <Grid container item alignItems=\"center\">\n            <Grid item xs={3}>\n              Application Status\n            </Grid>\n            <Grid\n              container\n              item\n              xs={9}\n              justify=\"space-around\"\n              // alignItems=\"center\"\n            >\n              <Grid item>\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      name=\"rejected\"\n                      checked={searchOptions.status.rejected}\n                      onChange={(event) => {\n                        setSearchOptions({\n                          ...searchOptions,\n                          status: {\n                            ...searchOptions.status,\n                            [event.target.name]: event.target.checked,\n                          },\n                        });\n                      }}\n                    />\n                  }\n                  label=\"Rejected\"\n                />\n              </Grid>\n              <Grid item>\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      name=\"applied\"\n                      checked={searchOptions.status.applied}\n                      onChange={(event) => {\n                        setSearchOptions({\n                          ...searchOptions,\n                          status: {\n                            ...searchOptions.status,\n                            [event.target.name]: event.target.checked,\n                          },\n                        });\n                      }}\n                    />\n                  }\n                  label=\"Applied\"\n                />\n              </Grid>\n              <Grid item>\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      name=\"shortlisted\"\n                      checked={searchOptions.status.shortlisted}\n                      onChange={(event) => {\n                        setSearchOptions({\n                          ...searchOptions,\n                          status: {\n                            ...searchOptions.status,\n                            [event.target.name]: event.target.checked,\n                          },\n                        });\n                      }}\n                    />\n                  }\n                  label=\"Shortlisted\"\n                />\n              </Grid>\n            </Grid>\n          </Grid> */}\n          <Grid container item alignItems=\"center\">\n            <Grid item xs={3}>\n              Sort\n            </Grid>\n            <Grid item container direction=\"row\" xs={9}>\n              <Grid\n                item\n                container\n                xs={6}\n                justify=\"space-around\"\n                alignItems=\"center\"\n                style={{ border: \"1px solid #D1D1D1\", borderRadius: \"5px\" }}\n              >\n                <Grid item>\n                  <Checkbox\n                    name=\"name\"\n                    checked={searchOptions.sort[\"jobApplicant.name\"].status}\n                    onChange={(event) =>\n                      setSearchOptions({\n                        ...searchOptions,\n                        sort: {\n                          ...searchOptions.sort,\n                          \"jobApplicant.name\": {\n                            ...searchOptions.sort[\"jobApplicant.name\"],\n                            status: event.target.checked,\n                          },\n                        },\n                      })\n                    }\n                    id=\"name\"\n                  />\n                </Grid>\n                <Grid item>\n                  <label for=\"name\">\n                    <Typography>Name</Typography>\n                  </label>\n                </Grid>\n                <Grid item>\n                  <IconButton\n                    disabled={!searchOptions.sort[\"jobApplicant.name\"].status}\n                    onClick={() => {\n                      setSearchOptions({\n                        ...searchOptions,\n                        sort: {\n                          ...searchOptions.sort,\n                          \"jobApplicant.name\": {\n                            ...searchOptions.sort[\"jobApplicant.name\"],\n                            desc: !searchOptions.sort[\"jobApplicant.name\"].desc,\n                          },\n                        },\n                      });\n                    }}\n                  >\n                    {searchOptions.sort[\"jobApplicant.name\"].desc ? (\n                      <ArrowDownwardIcon />\n                    ) : (\n                      <ArrowUpwardIcon />\n                    )}\n                  </IconButton>\n                </Grid>\n              </Grid>\n              <Grid\n                item\n                container\n                xs={6}\n                justify=\"space-around\"\n                alignItems=\"center\"\n                style={{ border: \"1px solid #D1D1D1\", borderRadius: \"5px\" }}\n              >\n                <Grid item>\n                  <Checkbox\n                    name=\"jobTitle\"\n                    checked={searchOptions.sort[\"job.title\"].status}\n                    onChange={(event) =>\n                      setSearchOptions({\n                        ...searchOptions,\n                        sort: {\n                          ...searchOptions.sort,\n                          \"job.title\": {\n                            ...searchOptions.sort[\"job.title\"],\n                            status: event.target.checked,\n                          },\n                        },\n                      })\n                    }\n                    id=\"jobTitle\"\n                  />\n                </Grid>\n                <Grid item>\n                  <label for=\"jobTitle\">\n                    <Typography>Job Title</Typography>\n                  </label>\n                </Grid>\n                <Grid item>\n                  <IconButton\n                    disabled={!searchOptions.sort[\"job.title\"].status}\n                    onClick={() => {\n                      setSearchOptions({\n                        ...searchOptions,\n                        sort: {\n                          ...searchOptions.sort,\n                          \"job.title\": {\n                            ...searchOptions.sort[\"job.title\"],\n                            desc: !searchOptions.sort[\"job.title\"].desc,\n                          },\n                        },\n                      });\n                    }}\n                  >\n                    {searchOptions.sort[\"job.title\"].desc ? (\n                      <ArrowDownwardIcon />\n                    ) : (\n                      <ArrowUpwardIcon />\n                    )}\n                  </IconButton>\n                </Grid>\n              </Grid>\n              <Grid\n                item\n                container\n                xs={6}\n                justify=\"space-around\"\n                alignItems=\"center\"\n                style={{ border: \"1px solid #D1D1D1\", borderRadius: \"5px\" }}\n              >\n                <Grid item>\n                  <Checkbox\n                    name=\"dateOfJoining\"\n                    checked={searchOptions.sort.dateOfJoining.status}\n                    onChange={(event) =>\n                      setSearchOptions({\n                        ...searchOptions,\n                        sort: {\n                          ...searchOptions.sort,\n                          dateOfJoining: {\n                            ...searchOptions.sort.dateOfJoining,\n                            status: event.target.checked,\n                          },\n                        },\n                      })\n                    }\n                    id=\"dateOfJoining\"\n                  />\n                </Grid>\n                <Grid item>\n                  <label for=\"dateOfJoining\">\n                    <Typography>Date of Joining</Typography>\n                  </label>\n                </Grid>\n                <Grid item>\n                  <IconButton\n                    disabled={!searchOptions.sort.dateOfJoining.status}\n                    onClick={() => {\n                      setSearchOptions({\n                        ...searchOptions,\n                        sort: {\n                          ...searchOptions.sort,\n                          dateOfJoining: {\n                            ...searchOptions.sort.dateOfJoining,\n                            desc: !searchOptions.sort.dateOfJoining.desc,\n                          },\n                        },\n                      });\n                    }}\n                  >\n                    {searchOptions.sort.dateOfJoining.desc ? (\n                      <ArrowDownwardIcon />\n                    ) : (\n                      <ArrowUpwardIcon />\n                    )}\n                  </IconButton>\n                </Grid>\n              </Grid>\n              <Grid\n                item\n                container\n                xs={6}\n                justify=\"space-around\"\n                alignItems=\"center\"\n                style={{ border: \"1px solid #D1D1D1\", borderRadius: \"5px\" }}\n              >\n                <Grid item>\n                  <Checkbox\n                    name=\"rating\"\n                    checked={searchOptions.sort[\"jobApplicant.rating\"].status}\n                    onChange={(event) =>\n                      setSearchOptions({\n                        ...searchOptions,\n                        sort: {\n                          ...searchOptions.sort,\n                          \"jobApplicant.rating\": {\n                            ...searchOptions.sort[[\"jobApplicant.rating\"]],\n                            status: event.target.checked,\n                          },\n                        },\n                      })\n                    }\n                    id=\"rating\"\n                  />\n                </Grid>\n                <Grid item>\n                  <label for=\"rating\">\n                    <Typography>Rating</Typography>\n                  </label>\n                </Grid>\n                <Grid item>\n                  <IconButton\n                    disabled={!searchOptions.sort[\"jobApplicant.rating\"].status}\n                    onClick={() => {\n                      setSearchOptions({\n                        ...searchOptions,\n                        sort: {\n                          ...searchOptions.sort,\n                          \"jobApplicant.rating\": {\n                            ...searchOptions.sort[\"jobApplicant.rating\"],\n                            desc: !searchOptions.sort[\"jobApplicant.rating\"]\n                              .desc,\n                          },\n                        },\n                      });\n                    }}\n                  >\n                    {searchOptions.sort[\"jobApplicant.rating\"].desc ? (\n                      <ArrowDownwardIcon />\n                    ) : (\n                      <ArrowUpwardIcon />\n                    )}\n                  </IconButton>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Grid item>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              style={{ padding: \"10px 50px\" }}\n              onClick={() => getData()}\n            >\n              Apply\n            </Button>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Modal>\n  );\n};\n\nconst ApplicationTile = (props) => {\n  const classes = useStyles();\n  const { application, getData } = props;\n  const setPopup = useContext(SetPopupContext);\n  const [open, setOpen] = useState(false);\n  const [openEndJob, setOpenEndJob] = useState(false);\n  const [rating, setRating] = useState(application.jobApplicant.rating);\n\n  const appliedOn = new Date(application.dateOfApplication);\n\n  const changeRating = () => {\n    axios\n      .put(\n        apiList.rating,\n        { rating: rating, applicantId: application.jobApplicant.userId },\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        }\n      )\n      .then((response) => {\n        console.log(response.data);\n        setPopup({\n          open: true,\n          severity: \"success\",\n          message: \"Rating updated successfully\",\n        });\n        // fetchRating();\n        getData();\n        setOpen(false);\n      })\n      .catch((err) => {\n        // console.log(err.response);\n        console.log(err);\n        setPopup({\n          open: true,\n          severity: \"error\",\n          message: err.response.data.message,\n        });\n        // fetchRating();\n        getData();\n        setOpen(false);\n      });\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleCloseEndJob = () => {\n    setOpenEndJob(false);\n  };\n\n  const colorSet = {\n    applied: \"#3454D1\",\n    shortlisted: \"#DC851F\",\n    accepted: \"#09BC8A\",\n    rejected: \"#D1345B\",\n    deleted: \"#B49A67\",\n    cancelled: \"#FF8484\",\n    finished: \"#4EA5D9\",\n  };\n\n  const getResume = () => {\n    if (\n      application.jobApplicant.resume &&\n      application.jobApplicant.resume !== \"\"\n    ) {\n      const address = `${server}${application.jobApplicant.resume}`;\n      console.log(address);\n      axios(address, {\n        method: \"GET\",\n        responseType: \"blob\",\n      })\n        .then((response) => {\n          const file = new Blob([response.data], { type: \"application/pdf\" });\n          const fileURL = URL.createObjectURL(file);\n          window.open(fileURL);\n        })\n        .catch((error) => {\n          console.log(error);\n          setPopup({\n            open: true,\n            severity: \"error\",\n            message: \"Error\",\n          });\n        });\n    } else {\n      setPopup({\n        open: true,\n        severity: \"error\",\n        message: \"No resume found\",\n      });\n    }\n  };\n\n  const updateStatus = (status) => {\n    const address = `${apiList.applications}/${application._id}`;\n    const statusData = {\n      status: status,\n      dateOfJoining: new Date().toISOString(),\n    };\n    axios\n      .put(address, statusData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      })\n      .then((response) => {\n        setPopup({\n          open: true,\n          severity: \"success\",\n          message: response.data.message,\n        });\n        handleCloseEndJob();\n        getData();\n      })\n      .catch((err) => {\n        setPopup({\n          open: true,\n          severity: \"error\",\n          message: err.response.data.message,\n        });\n        console.log(err.response);\n        handleCloseEndJob();\n      });\n  };\n\n  return (\n    <Paper className={classes.jobTileOuter} elevation={3}>\n      <Grid container>\n        <Grid\n          item\n          xs={2}\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <Avatar\n            src={`${server}${application.jobApplicant.profile}`}\n            className={classes.avatar}\n          />\n        </Grid>\n        <Grid container item xs={7} spacing={1} direction=\"column\">\n          <Grid item>\n            <Typography variant=\"h5\">\n              {application.jobApplicant.name}\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Rating\n              value={\n                application.jobApplicant.rating !== -1\n                  ? application.jobApplicant.rating\n                  : null\n              }\n              readOnly\n            />\n          </Grid>\n          <Grid item>Job Title: {application.job.title}</Grid>\n          <Grid item>Role: {application.job.jobType}</Grid>\n          <Grid item>Applied On: {appliedOn.toLocaleDateString()}</Grid>\n          <Grid item>\n            SOP: {application.sop !== \"\" ? application.sop : \"Not Submitted\"}\n          </Grid>\n          <Grid item>\n            {application.jobApplicant.skills.map((skill) => (\n              <Chip label={skill} style={{ marginRight: \"2px\" }} />\n            ))}\n          </Grid>\n        </Grid>\n        <Grid item container direction=\"column\" xs={3}>\n          <Grid item>\n            <Button\n              variant=\"contained\"\n              className={classes.statusBlock}\n              color=\"primary\"\n              onClick={() => getResume()}\n            >\n              Download Resume\n            </Button>\n          </Grid>\n          <Grid item container xs>\n            {/* {buttonSet[application.status]} */}\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.statusBlock}\n              style={{\n                background: \"#09BC8A\",\n              }}\n              onClick={() => {\n                setOpenEndJob(true);\n              }}\n            >\n              End Job\n            </Button>\n          </Grid>\n          <Grid item>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.statusBlock}\n              onClick={() => {\n                setOpen(true);\n              }}\n            >\n              Rate Applicant\n            </Button>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Modal open={open} onClose={handleClose} className={classes.popupDialog}>\n        <Paper\n          style={{\n            padding: \"20px\",\n            outline: \"none\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            minWidth: \"30%\",\n            alignItems: \"center\",\n          }}\n        >\n          <Rating\n            name=\"simple-controlled\"\n            style={{ marginBottom: \"30px\" }}\n            value={rating === -1 ? null : rating}\n            onChange={(event, newValue) => {\n              setRating(newValue);\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            style={{ padding: \"10px 50px\" }}\n            onClick={() => changeRating()}\n          >\n            Submit\n          </Button>\n        </Paper>\n      </Modal>\n      <Modal\n        open={openEndJob}\n        onClose={handleCloseEndJob}\n        className={classes.popupDialog}\n      >\n        <Paper\n          style={{\n            padding: \"20px\",\n            outline: \"none\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            minWidth: \"30%\",\n            alignItems: \"center\",\n          }}\n        >\n          <Typography variant=\"h4\" style={{ marginBottom: \"10px\" }}>\n            Are you sure?\n          </Typography>\n          <Grid container justify=\"center\" spacing={5}>\n            <Grid item>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                style={{ padding: \"10px 50px\" }}\n                onClick={() => {\n                  updateStatus(\"finished\");\n                }}\n              >\n                Yes\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                style={{ padding: \"10px 50px\" }}\n                onClick={() => handleCloseEndJob()}\n              >\n                Cancel\n              </Button>\n            </Grid>\n          </Grid>\n        </Paper>\n      </Modal>\n    </Paper>\n  );\n};\n\nconst AcceptedApplicants = (props) => {\n  const setPopup = useContext(SetPopupContext);\n  const [applications, setApplications] = useState([]);\n  const [filterOpen, setFilterOpen] = useState(false);\n  const [searchOptions, setSearchOptions] = useState({\n    sort: {\n      \"jobApplicant.name\": {\n        status: false,\n        desc: false,\n      },\n      \"job.title\": {\n        status: false,\n        desc: false,\n      },\n      dateOfJoining: {\n        status: true,\n        desc: true,\n      },\n      \"jobApplicant.rating\": {\n        status: false,\n        desc: false,\n      },\n    },\n  });\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getData = () => {\n    let searchParams = [];\n    searchParams = [...searchParams, `status=accepted`];\n\n    let asc = [],\n      desc = [];\n\n    Object.keys(searchOptions.sort).forEach((obj) => {\n      const item = searchOptions.sort[obj];\n      if (item.status) {\n        if (item.desc) {\n          desc = [...desc, `desc=${obj}`];\n        } else {\n          asc = [...asc, `asc=${obj}`];\n        }\n      }\n    });\n\n    searchParams = [...searchParams, ...asc, ...desc];\n    const queryString = searchParams.join(\"&\");\n    console.log(queryString);\n    let address = `${apiList.applicants}`;\n    if (queryString !== \"\") {\n      address = `${address}?${queryString}`;\n    }\n\n    console.log(address);\n\n    axios\n      .get(address, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      })\n      .then((response) => {\n        console.log(response.data);\n        setApplications(response.data);\n      })\n      .catch((err) => {\n        console.log(err.response);\n        // console.log(err.response.data);\n        setApplications([]);\n        setPopup({\n          open: true,\n          severity: \"error\",\n          message: err.response.data.message,\n        });\n      });\n  };\n\n  return (\n    <>\n      <Grid\n        container\n        item\n        direction=\"column\"\n        alignItems=\"center\"\n        style={{ padding: \"30px\", minHeight: \"93vh\" }}\n      >\n        <Grid item>\n          <Typography variant=\"h2\">Employees</Typography>\n        </Grid>\n        <Grid item>\n          <IconButton onClick={() => setFilterOpen(true)}>\n            <FilterListIcon />\n          </IconButton>\n        </Grid>\n        <Grid\n          container\n          item\n          xs\n          direction=\"column\"\n          style={{ width: \"100%\" }}\n          alignItems=\"stretch\"\n          justify=\"center\"\n        >\n          {applications.length > 0 ? (\n            applications.map((obj) => (\n              <Grid item>\n                {/* {console.log(obj)} */}\n                <ApplicationTile application={obj} getData={getData} />\n              </Grid>\n            ))\n          ) : (\n            <Typography variant=\"h5\" style={{ textAlign: \"center\" }}>\n              No Applications Found\n            </Typography>\n          )}\n        </Grid>\n      </Grid>\n      <FilterPopup\n        open={filterOpen}\n        searchOptions={searchOptions}\n        setSearchOptions={setSearchOptions}\n        handleClose={() => setFilterOpen(false)}\n        getData={() => {\n          getData();\n          setFilterOpen(false);\n        }}\n      />\n    </>\n  );\n};\n\nexport default AcceptedApplicants;\n"]},"metadata":{},"sourceType":"module"}