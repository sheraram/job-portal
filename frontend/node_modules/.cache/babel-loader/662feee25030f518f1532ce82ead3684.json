{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/shera/Desktop/React/job-portal-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect,useContext}from\"react\";import{Button,Chip,Grid,IconButton,InputAdornment,makeStyles,Paper,TextField,Typography,Modal,Slider,FormControlLabel,FormGroup,MenuItem,Checkbox}from\"@material-ui/core\";import Rating from\"@material-ui/lab/Rating\";import axios from\"axios\";import{SetPopupContext}from\"../App\";import apiList from\"../lib/apiList\";var useStyles=makeStyles(function(theme){return{body:{height:\"inherit\"},statusBlock:{width:\"100%\",height:\"100%\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",textTransform:\"uppercase\"},jobTileOuter:{padding:\"30px\",margin:\"20px 0\",boxSizing:\"border-box\",width:\"100%\"},popupDialog:{height:\"100%\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}};});var ApplicationTile=function ApplicationTile(props){var classes=useStyles();var application=props.application;var setPopup=useContext(SetPopupContext);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(application.job.rating),_useState4=_slicedToArray(_useState3,2),rating=_useState4[0],setRating=_useState4[1];var appliedOn=new Date(application.dateOfApplication);var joinedOn=new Date(application.dateOfJoining);var fetchRating=function fetchRating(){axios.get(\"\".concat(apiList.rating,\"?id=\").concat(application.job._id),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(response){setRating(response.data.rating);console.log(response.data);}).catch(function(err){// console.log(err.response);\nconsole.log(err.response.data);setPopup({open:true,severity:\"error\",message:\"Error\"});});};var changeRating=function changeRating(){axios.put(apiList.rating,{rating:rating,jobId:application.job._id},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(response){console.log(response.data);setPopup({open:true,severity:\"success\",message:\"Rating updated successfully\"});fetchRating();setOpen(false);}).catch(function(err){// console.log(err.response);\nconsole.log(err);setPopup({open:true,severity:\"error\",message:err.response.data.message});fetchRating();setOpen(false);});};var handleClose=function handleClose(){setOpen(false);};var colorSet={applied:\"#3454D1\",shortlisted:\"#DC851F\",accepted:\"#09BC8A\",rejected:\"#D1345B\",deleted:\"#B49A67\",cancelled:\"#FF8484\",finished:\"#4EA5D9\"};return/*#__PURE__*/_jsxs(Paper,{className:classes.jobTileOuter,elevation:3,children:[/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsxs(Grid,{container:true,item:true,xs:9,spacing:1,direction:\"column\",children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:application.job.title})}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"Posted By: \",application.recruiter.name]}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"Role : \",application.job.jobType]}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"Salary : \\u20B9 \",application.job.salary,\" per month\"]}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"Duration :\",\" \",application.job.duration!==0?\"\".concat(application.job.duration,\" month\"):\"Flexible\"]}),/*#__PURE__*/_jsx(Grid,{item:true,children:application.job.skillsets.map(function(skill){return/*#__PURE__*/_jsx(Chip,{label:skill,style:{marginRight:\"2px\"}});})}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"Applied On: \",appliedOn.toLocaleDateString()]}),application.status===\"accepted\"||application.status===\"finished\"?/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"Joined On: \",joinedOn.toLocaleDateString()]}):null]}),/*#__PURE__*/_jsxs(Grid,{item:true,container:true,direction:\"column\",xs:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(Paper,{className:classes.statusBlock,style:{background:colorSet[application.status],color:\"#ffffff\"},children:application.status})}),application.status===\"accepted\"||application.status===\"finished\"?/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",className:classes.statusBlock,onClick:function onClick(){fetchRating();setOpen(true);},children:\"Rate Job\"})}):null]})]}),/*#__PURE__*/_jsx(Modal,{open:open,onClose:handleClose,className:classes.popupDialog,children:/*#__PURE__*/_jsxs(Paper,{style:{padding:\"20px\",outline:\"none\",display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",minWidth:\"30%\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(Rating,{name:\"simple-controlled\",style:{marginBottom:\"30px\"},value:rating===-1?null:rating,onChange:function onChange(event,newValue){setRating(newValue);}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",style:{padding:\"10px 50px\"},onClick:function onClick(){return changeRating();},children:\"Submit\"})]})})]});};var Applications=function Applications(props){var setPopup=useContext(SetPopupContext);var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),applications=_useState6[0],setApplications=_useState6[1];useEffect(function(){getData();},[]);var getData=function getData(){axios.get(apiList.applications,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(response){console.log(response.data);setApplications(response.data);}).catch(function(err){// console.log(err.response);\nconsole.log(err.response.data);setPopup({open:true,severity:\"error\",message:\"Error\"});});};return/*#__PURE__*/_jsxs(Grid,{container:true,item:true,direction:\"column\",alignItems:\"center\",style:{padding:\"30px\",minHeight:\"93vh\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"h2\",children:\"Applications\"})}),/*#__PURE__*/_jsx(Grid,{container:true,item:true,xs:true,direction:\"column\",style:{width:\"100%\"},alignItems:\"stretch\",justify:\"center\",children:applications.length>0?applications.map(function(obj){return/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(ApplicationTile,{application:obj})});}):/*#__PURE__*/_jsx(Typography,{variant:\"h5\",style:{textAlign:\"center\"},children:\"No Applications Found\"})})]});};export default Applications;","map":{"version":3,"sources":["/home/shera/Desktop/React/job-portal-main/frontend/src/component/Applications.js"],"names":["useState","useEffect","useContext","Button","Chip","Grid","IconButton","InputAdornment","makeStyles","Paper","TextField","Typography","Modal","Slider","FormControlLabel","FormGroup","MenuItem","Checkbox","Rating","axios","SetPopupContext","apiList","useStyles","theme","body","height","statusBlock","width","display","alignItems","justifyContent","textTransform","jobTileOuter","padding","margin","boxSizing","popupDialog","ApplicationTile","props","classes","application","setPopup","open","setOpen","job","rating","setRating","appliedOn","Date","dateOfApplication","joinedOn","dateOfJoining","fetchRating","get","_id","headers","Authorization","localStorage","getItem","then","response","data","console","log","catch","err","severity","message","changeRating","put","jobId","handleClose","colorSet","applied","shortlisted","accepted","rejected","deleted","cancelled","finished","title","recruiter","name","jobType","salary","duration","skillsets","map","skill","marginRight","toLocaleDateString","status","background","color","outline","flexDirection","minWidth","marginBottom","event","newValue","Applications","applications","setApplications","getData","minHeight","length","obj","textAlign"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from \"react\";\nimport {\n  Button,\n  Chip,\n  Grid,\n  IconButton,\n  InputAdornment,\n  makeStyles,\n  Paper,\n  TextField,\n  Typography,\n  Modal,\n  Slider,\n  FormControlLabel,\n  FormGroup,\n  MenuItem,\n  Checkbox,\n} from \"@material-ui/core\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport axios from \"axios\";\n\nimport { SetPopupContext } from \"../App\";\n\nimport apiList from \"../lib/apiList\";\n\nconst useStyles = makeStyles((theme) => ({\n  body: {\n    height: \"inherit\",\n  },\n  statusBlock: {\n    width: \"100%\",\n    height: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textTransform: \"uppercase\",\n  },\n  jobTileOuter: {\n    padding: \"30px\",\n    margin: \"20px 0\",\n    boxSizing: \"border-box\",\n    width: \"100%\",\n  },\n  popupDialog: {\n    height: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst ApplicationTile = (props) => {\n  const classes = useStyles();\n  const { application } = props;\n  const setPopup = useContext(SetPopupContext);\n  const [open, setOpen] = useState(false);\n  const [rating, setRating] = useState(application.job.rating);\n\n  const appliedOn = new Date(application.dateOfApplication);\n  const joinedOn = new Date(application.dateOfJoining);\n\n  const fetchRating = () => {\n    axios\n      .get(`${apiList.rating}?id=${application.job._id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      })\n      .then((response) => {\n        setRating(response.data.rating);\n        console.log(response.data);\n      })\n      .catch((err) => {\n        // console.log(err.response);\n        console.log(err.response.data);\n        setPopup({\n          open: true,\n          severity: \"error\",\n          message: \"Error\",\n        });\n      });\n  };\n\n  const changeRating = () => {\n    axios\n      .put(\n        apiList.rating,\n        { rating: rating, jobId: application.job._id },\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        }\n      )\n      .then((response) => {\n        console.log(response.data);\n        setPopup({\n          open: true,\n          severity: \"success\",\n          message: \"Rating updated successfully\",\n        });\n        fetchRating();\n        setOpen(false);\n      })\n      .catch((err) => {\n        // console.log(err.response);\n        console.log(err);\n        setPopup({\n          open: true,\n          severity: \"error\",\n          message: err.response.data.message,\n        });\n        fetchRating();\n        setOpen(false);\n      });\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const colorSet = {\n    applied: \"#3454D1\",\n    shortlisted: \"#DC851F\",\n    accepted: \"#09BC8A\",\n    rejected: \"#D1345B\",\n    deleted: \"#B49A67\",\n    cancelled: \"#FF8484\",\n    finished: \"#4EA5D9\",\n  };\n\n  return (\n    <Paper className={classes.jobTileOuter} elevation={3}>\n      <Grid container>\n        <Grid container item xs={9} spacing={1} direction=\"column\">\n          <Grid item>\n            <Typography variant=\"h5\">{application.job.title}</Typography>\n          </Grid>\n          <Grid item>Posted By: {application.recruiter.name}</Grid>\n          <Grid item>Role : {application.job.jobType}</Grid>\n          <Grid item>Salary : &#8377; {application.job.salary} per month</Grid>\n          <Grid item>\n            Duration :{\" \"}\n            {application.job.duration !== 0\n              ? `${application.job.duration} month`\n              : `Flexible`}\n          </Grid>\n          <Grid item>\n            {application.job.skillsets.map((skill) => (\n              <Chip label={skill} style={{ marginRight: \"2px\" }} />\n            ))}\n          </Grid>\n          <Grid item>Applied On: {appliedOn.toLocaleDateString()}</Grid>\n          {application.status === \"accepted\" ||\n          application.status === \"finished\" ? (\n            <Grid item>Joined On: {joinedOn.toLocaleDateString()}</Grid>\n          ) : null}\n        </Grid>\n        <Grid item container direction=\"column\" xs={3}>\n          <Grid item xs>\n            <Paper\n              className={classes.statusBlock}\n              style={{\n                background: colorSet[application.status],\n                color: \"#ffffff\",\n              }}\n            >\n              {application.status}\n            </Paper>\n          </Grid>\n          {application.status === \"accepted\" ||\n          application.status === \"finished\" ? (\n            <Grid item>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.statusBlock}\n                onClick={() => {\n                  fetchRating();\n                  setOpen(true);\n                }}\n              >\n                Rate Job\n              </Button>\n            </Grid>\n          ) : null}\n        </Grid>\n      </Grid>\n      <Modal open={open} onClose={handleClose} className={classes.popupDialog}>\n        <Paper\n          style={{\n            padding: \"20px\",\n            outline: \"none\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            minWidth: \"30%\",\n            alignItems: \"center\",\n          }}\n        >\n          <Rating\n            name=\"simple-controlled\"\n            style={{ marginBottom: \"30px\" }}\n            value={rating === -1 ? null : rating}\n            onChange={(event, newValue) => {\n              setRating(newValue);\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            style={{ padding: \"10px 50px\" }}\n            onClick={() => changeRating()}\n          >\n            Submit\n          </Button>\n        </Paper>\n      </Modal>\n    </Paper>\n  );\n};\n\nconst Applications = (props) => {\n  const setPopup = useContext(SetPopupContext);\n  const [applications, setApplications] = useState([]);\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getData = () => {\n    axios\n      .get(apiList.applications, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      })\n      .then((response) => {\n        console.log(response.data);\n        setApplications(response.data);\n      })\n      .catch((err) => {\n        // console.log(err.response);\n        console.log(err.response.data);\n        setPopup({\n          open: true,\n          severity: \"error\",\n          message: \"Error\",\n        });\n      });\n  };\n\n  return (\n    <Grid\n      container\n      item\n      direction=\"column\"\n      alignItems=\"center\"\n      style={{ padding: \"30px\", minHeight: \"93vh\" }}\n    >\n      <Grid item>\n        <Typography variant=\"h2\">Applications</Typography>\n      </Grid>\n      <Grid\n        container\n        item\n        xs\n        direction=\"column\"\n        style={{ width: \"100%\" }}\n        alignItems=\"stretch\"\n        justify=\"center\"\n      >\n        {applications.length > 0 ? (\n          applications.map((obj) => (\n            <Grid item>\n              <ApplicationTile application={obj} />\n            </Grid>\n          ))\n        ) : (\n          <Typography variant=\"h5\" style={{ textAlign: \"center\" }}>\n            No Applications Found\n          </Typography>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Applications;\n"]},"metadata":{},"sourceType":"module"}