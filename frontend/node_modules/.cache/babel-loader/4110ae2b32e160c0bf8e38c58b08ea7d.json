{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/home/shera/Desktop/React/job-portal-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/shera/Desktop/React/job-portal-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/shera/Desktop/React/job-portal-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useContext,useEffect,useState}from\"react\";import{Button,Grid,Typography,Modal,Paper,makeStyles,TextField}from\"@material-ui/core\";import axios from\"axios\";import PhoneInput from\"react-phone-input-2\";import\"react-phone-input-2/lib/material.css\";import{SetPopupContext}from\"../../App\";import apiList from\"../../lib/apiList\";var useStyles=makeStyles(function(theme){return{body:{height:\"inherit\"},popupDialog:{height:\"100%\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"// padding: \"30px\",\n}};});var Profile=function Profile(props){var classes=useStyles();var setPopup=useContext(SetPopupContext);var _useState=useState({name:\"\",bio:\"\",contactNumber:\"\"}),_useState2=_slicedToArray(_useState,2),profileDetails=_useState2[0],setProfileDetails=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),phone=_useState4[0],setPhone=_useState4[1];var handleInput=function handleInput(key,value){setProfileDetails(_objectSpread(_objectSpread({},profileDetails),{},_defineProperty({},key,value)));};useEffect(function(){getData();},[]);var getData=function getData(){axios.get(apiList.user,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(response){console.log(response.data);setProfileDetails(response.data);setPhone(response.data.contactNumber);}).catch(function(err){console.log(err.response.data);setPopup({open:true,severity:\"error\",message:\"Error\"});});};var handleUpdate=function handleUpdate(){var updatedDetails=_objectSpread({},profileDetails);if(phone!==\"\"){updatedDetails=_objectSpread(_objectSpread({},profileDetails),{},{contactNumber:\"+\".concat(phone)});}else{updatedDetails=_objectSpread(_objectSpread({},profileDetails),{},{contactNumber:\"\"});}axios.put(apiList.user,updatedDetails,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(response){setPopup({open:true,severity:\"success\",message:response.data.message});getData();}).catch(function(err){setPopup({open:true,severity:\"error\",message:err.response.data.message});console.log(err.response);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Grid,{container:true,item:true,direction:\"column\",alignItems:\"center\",style:{padding:\"30px\",minHeight:\"93vh\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"h2\",children:\"Profile\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:true,style:{width:\"100%\"},children:/*#__PURE__*/_jsxs(Paper,{style:{padding:\"20px\",outline:\"none\",display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\"//   width: \"60%\",\n},children:[/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",alignItems:\"stretch\",spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(TextField,{label:\"Name\",value:profileDetails.name,onChange:function onChange(event){return handleInput(\"name\",event.target.value);},className:classes.inputBox,variant:\"outlined\",fullWidth:true,style:{width:\"100%\"}})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(TextField,{label:\"Bio (upto 250 words)\",multiline:true,rows:8,style:{width:\"100%\"},variant:\"outlined\",value:profileDetails.bio,onChange:function onChange(event){if(event.target.value.split(\" \").filter(function(n){return n!=\"\";}).length<=250){handleInput(\"bio\",event.target.value);}}})}),/*#__PURE__*/_jsx(Grid,{item:true,style:{display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(PhoneInput,{country:\"in\",value:phone,onChange:function onChange(phone){return setPhone(phone);},style:{width:\"auto\"}})})]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",style:{padding:\"10px 50px\",marginTop:\"30px\"},onClick:function onClick(){return handleUpdate();},children:\"Update Details\"})]})})]})});};export default Profile;","map":{"version":3,"sources":["/home/shera/Desktop/React/job-portal-main/frontend/src/component/recruiter/Profile.js"],"names":["useContext","useEffect","useState","Button","Grid","Typography","Modal","Paper","makeStyles","TextField","axios","PhoneInput","SetPopupContext","apiList","useStyles","theme","body","height","popupDialog","display","alignItems","justifyContent","Profile","props","classes","setPopup","name","bio","contactNumber","profileDetails","setProfileDetails","phone","setPhone","handleInput","key","value","getData","get","user","headers","Authorization","localStorage","getItem","then","response","console","log","data","catch","err","open","severity","message","handleUpdate","updatedDetails","put","padding","minHeight","width","outline","flexDirection","event","target","inputBox","split","filter","n","length","marginTop"],"mappings":"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","sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport {\n  Button,\n  Grid,\n  Typography,\n  Modal,\n  Paper,\n  makeStyles,\n  TextField,\n} from \"@material-ui/core\";\nimport axios from \"axios\";\nimport PhoneInput from \"react-phone-input-2\";\nimport \"react-phone-input-2/lib/material.css\";\n\nimport { SetPopupContext } from \"../../App\";\n\nimport apiList from \"../../lib/apiList\";\n\nconst useStyles = makeStyles((theme) => ({\n  body: {\n    height: \"inherit\",\n  },\n  popupDialog: {\n    height: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    // padding: \"30px\",\n  },\n}));\n\nconst Profile = (props) => {\n  const classes = useStyles();\n  const setPopup = useContext(SetPopupContext);\n\n  const [profileDetails, setProfileDetails] = useState({\n    name: \"\",\n    bio: \"\",\n    contactNumber: \"\",\n  });\n\n  const [phone, setPhone] = useState(\"\");\n\n  const handleInput = (key, value) => {\n    setProfileDetails({\n      ...profileDetails,\n      [key]: value,\n    });\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getData = () => {\n    axios\n      .get(apiList.user, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      })\n      .then((response) => {\n        console.log(response.data);\n        setProfileDetails(response.data);\n        setPhone(response.data.contactNumber);\n      })\n      .catch((err) => {\n        console.log(err.response.data);\n        setPopup({\n          open: true,\n          severity: \"error\",\n          message: \"Error\",\n        });\n      });\n  };\n\n  const handleUpdate = () => {\n    let updatedDetails = {\n      ...profileDetails,\n    };\n    if (phone !== \"\") {\n      updatedDetails = {\n        ...profileDetails,\n        contactNumber: `+${phone}`,\n      };\n    } else {\n      updatedDetails = {\n        ...profileDetails,\n        contactNumber: \"\",\n      };\n    }\n\n    axios\n      .put(apiList.user, updatedDetails, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      })\n      .then((response) => {\n        setPopup({\n          open: true,\n          severity: \"success\",\n          message: response.data.message,\n        });\n        getData();\n      })\n      .catch((err) => {\n        setPopup({\n          open: true,\n          severity: \"error\",\n          message: err.response.data.message,\n        });\n        console.log(err.response);\n      });\n  };\n\n  return (\n    <>\n      <Grid\n        container\n        item\n        direction=\"column\"\n        alignItems=\"center\"\n        style={{ padding: \"30px\", minHeight: \"93vh\" }}\n      >\n        <Grid item>\n          <Typography variant=\"h2\">Profile</Typography>\n        </Grid>\n        <Grid item xs style={{ width: \"100%\" }}>\n          <Paper\n            style={{\n              padding: \"20px\",\n              outline: \"none\",\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              //   width: \"60%\",\n            }}\n          >\n            <Grid container direction=\"column\" alignItems=\"stretch\" spacing={3}>\n              <Grid item>\n                <TextField\n                  label=\"Name\"\n                  value={profileDetails.name}\n                  onChange={(event) => handleInput(\"name\", event.target.value)}\n                  className={classes.inputBox}\n                  variant=\"outlined\"\n                  fullWidth\n                  style={{ width: \"100%\" }}\n                />\n              </Grid>\n              <Grid item>\n                <TextField\n                  label=\"Bio (upto 250 words)\"\n                  multiline\n                  rows={8}\n                  style={{ width: \"100%\" }}\n                  variant=\"outlined\"\n                  value={profileDetails.bio}\n                  onChange={(event) => {\n                    if (\n                      event.target.value.split(\" \").filter(function (n) {\n                        return n != \"\";\n                      }).length <= 250\n                    ) {\n                      handleInput(\"bio\", event.target.value);\n                    }\n                  }}\n                />\n              </Grid>\n              <Grid\n                item\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                }}\n              >\n                <PhoneInput\n                  country={\"in\"}\n                  value={phone}\n                  onChange={(phone) => setPhone(phone)}\n                  style={{ width: \"auto\" }}\n                />\n              </Grid>\n            </Grid>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              style={{ padding: \"10px 50px\", marginTop: \"30px\" }}\n              onClick={() => handleUpdate()}\n            >\n              Update Details\n            </Button>\n          </Paper>\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}